inc_id: INC004
server_id: SRV003
region: Asia Pacific
date: 2025-06-02T03:07:44.205Z

# What happened?
Between 03:07 and 03:46 UTC the Development Email Notification Service experienced elevated bounce rates and delayed message dispatch for internal QA test campaigns. Average send latency increased from 300ms to 6s. Production systems and customer-facing traffic were unaffected.

# What went wrong and why?
A developer load test introduced 10x the normal volume using a synthetic recipient list including several intentionally invalid domains. The validation subsystem relies on an external WHOIS + MX lookup sequence. The sudden surge plus high failure ratio exhausted the async DNS resolver connection pool. Backpressure then affected the main send pipeline through shared event loop saturation. Rate limiting configured for production (token bucket) was disabled in development to ease manual testing, removing a safety valve. Missing quota guards allowed the test to proceed unchecked.

# How did we respond?
* 03:09 UTC – Internal dashboard showed spike in pending send queue; on-call paged.
* 03:16 UTC – Identified correlation with active load test; requested halt.
* 03:20 UTC – Load test stopped; resolver pool still saturated; initiated pool flush.
* 03:28 UTC – Deployed temporary config enabling rate limit in development.
* 03:37 UTC – Queue drain rate exceeded enqueue rate; latency improving.
* 03:46 UTC – Metrics normalized; incident closed.

# How are we making incidents like this less likely or less impactful?
* Enforce per-environment send quotas + abort threshold for invalid recipient ratio (In progress – June 2025)
* Enable rate limiting across all environments by default (Completed)
* Add synthetic alert for resolver pool saturation > 70% for 5 min (Planned – June 2025)
* Isolate DNS/MX validation onto separate worker pool to prevent event loop starvation (Planned – July 2025)
* Document approved load test patterns & guardrails (Completed)

# How can customers make incidents like this less impactful?
* Use suppression lists and domain validation in lower environments before initiating large test campaigns.
* Stagger bulk email tests to avoid bursty traffic patterns; apply gradual ramp-up.
* Monitor your own bounce ratios and halt tests when abnormal invalid recipient rates appear.